<section
  class="relative min-h-[650px] w-[400px] p-12 bg-white dark:bg-zinc-900 shadow-lg rounded-2xl flex items-center justify-center transition-colors duration-300"
>
  <div class="flex flex-col gap-12 w-full" *ngIf="!(loading$ | async)">
    <button
      *ngIf="isMobile"
      class="w-full flex text-zinc-900 dark:text-zinc-100 hover:text-primary transition-colors"
      [routerLink]="['/']"
    >
      <i class="fa-solid fa-circle-chevron-left fa-2xl"></i>
    </button>
    <h1
      class="text-center text-4xl font-semibold text-zinc-800 dark:text-white"
    >
      Marties
    </h1>
    <form
      class="flex flex-col gap-12"
      #loginForm="ngForm"
      (ngSubmit)="login(loginForm.value)"
    >
      <div class="flex flex-col gap-4">
        <h3 class="text-zinc-700 dark:text-zinc-200 text-lg">Welcome Back!</h3>

        <!-- Email Input -->
        <div class="relative">
          <input
            type="email"
            class="pl-10 pr-4 py-2 border rounded-lg bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200 w-full"
            placeholder="Enter your email"
            required
            #email="ngModel"
            name="email"
            ngModel
            [ngClass]="{
              'border-red-500 border-2': email.touched && email.invalid
            }"
          />
          <div
            class="absolute top-3.5 left-1 pl-3 flex items-center pointer-events-none"
          >
            <i class="fas fa-envelope text-slate-400 dark:text-zinc-400"></i>
          </div>
        </div>

        <!-- Password Input -->
        <div class="relative">
          <input
            type="password"
            class="pl-10 pr-4 py-2 border rounded-lg bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-200 w-full"
            placeholder="Enter your password"
            required
            #password="ngModel"
            name="password"
            ngModel
            [ngClass]="{
              'border-red-500 border-2': password.touched && password.invalid
            }"
          />
          <div
            class="absolute top-3.5 left-1 pl-3 flex items-center pointer-events-none"
          >
            <i class="fas fa-lock text-slate-400 dark:text-zinc-400"></i>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <button
        class="w-full p-4 bg-primary text-white rounded-full disabled:opacity-30 hover:opacity-90 transition"
        [disabled]="loginForm.invalid"
      >
        LOGIN
      </button>
    </form>

    <!-- Error Message -->
    <p
      *ngIf="error$ | async"
      class="text-red-600 dark:text-red-400 text-center"
    >
      {{ error$ | async }}
    </p>

    <!-- Links -->
    <div class="flex justify-between text-sm">
      <a
        class="text-gray-500 dark:text-gray-400 hover:underline"
        [routerLink]="['/authentication', 'sign-up']"
        >Create Account</a
      >
      <a class="text-gray-500 dark:text-gray-400 hover:underline"
        >Forgot Password</a
      >
    </div>

    <!-- Floating Buttons -->
    <div
      *ngIf="!isMobile"
      class="absolute top-24 -right-24 rotate-90 -z-50 flex gap-4"
    >
      <button
        class="bg-primary-dark text-white shadow-2xl rounded-2xl pb-8 px-4 pt-2"
        disabled
        type="submit"
      >
        Login
      </button>
      <button
        class="bg-primary rounded-2xl pb-8 px-4 pt-2 shadow-2xl hover:opacity-60"
        [routerLink]="['/authentication', 'sign-up']"
      >
        Sign up
      </button>
    </div>
  </div>

  <!-- Loading Spinner -->
  <div role="status" *ngIf="loading$ | async">
    <svg
      aria-hidden="true"
      class="w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-primary"
      viewBox="0 0 100 101"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M100 50.5908C100 78.2051 77.6142 100.591 ... rest omitted for brevity ..."
        fill="currentColor"
      />
      <path
        d="M93.9676 39.0409C96.393 ... rest omitted ..."
        fill="currentFill"
      />
    </svg>
    <span class="sr-only">Loading...</span>
  </div>
</section>
