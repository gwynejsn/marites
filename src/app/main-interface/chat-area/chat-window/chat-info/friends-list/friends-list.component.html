<div
  class="absolute top-0 left-0 w-full h-full backdrop-blur-sm bg-black/30 z-40"
  (click)="close.emit()"
></div>

<div
  class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-zinc-800 p-6 sm:p-8 rounded-2xl shadow-2xl w-[90%] max-w-sm text-center z-50 overflow-y-auto max-h-[90vh]"
>
  <div class="flex justify-between items-center mb-4">
    <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
      Add members
    </h3>
    <button
      class="text-sm font-medium text-white bg-red-500 hover:bg-red-600 px-3 py-1.5 rounded-xl transition"
      (click)="close.emit()"
    >
      Close
    </button>
  </div>

  <!-- Friend List -->
  <div class="flex flex-col gap-3">
    <p *ngIf="availableFriends().length === 0">No available friends!</p>
    <div
      *ngFor="let f of availableFriends()"
      class="p-4 rounded-xl flex justify-between items-center border border-gray-300 dark:border-zinc-600 bg-white dark:bg-zinc-800"
    >
      <div class="flex items-center gap-4">
        <img
          [src]="f.friend.profilePicture"
          [alt]="'Profile picture of ' + f.friend.name"
          class="w-[45px] h-[45px] rounded-full object-cover border border-gray-300 dark:border-zinc-500"
        />
        <p class="text-gray-800 dark:text-gray-100 font-medium">
          {{ f.friend.name }}
        </p>
      </div>

      <button
        class="py-2 px-4 bg-primary hover:bg-primary/80 text-white font-semibold rounded-xl transition"
        (click)="
          addMember.emit({
            UID: f.id,
            name: f.friend.name,
            profilePicture: f.friend.profilePicture
          })
        "
      >
        Add
      </button>
    </div>
  </div>
</div>
